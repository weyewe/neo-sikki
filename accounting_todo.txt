
easy transaction:
1. Loan disbursement
2. Manual savings => Voluntary, locked
3. Loan weekly payment 
4. Corner cases: Run Away, Death, Uncollectible, Premature Clearance 
5. Rounding Up
6. Compulsory Savings inequality 


produces bad debt allowance
run away
	declaration: bad debt allowance  OK 
		weekly_payment
			reverse the bad debt allowance OK 
		end_of_cycle
			reverse the bad debt allowance
			
death
	auto bad_debt_allowance
	
uncollectible 
	produces bad debt allowance

premature clearance: produces liability (uang titipan)?


Guideline for group loan closing:
	1. all bad debt allowance , except the one from force major (deceased) should be minimized
	2. it can be paid by using compulsory savings 



During closing, we will try to minimize bad debt allowance. 
compulsory savings - bad debt allowance. 
	if there is still debt, expense it
	no debt: return it. 



	rspec ./spec/models/corner_cases/combination/scenario_2_spec.rb:157 # GroupLoan perform premature clearance should produce correct premature clearance amount (premature clearance 1)
	rspec ./spec/models/corner_cases/combination/scenario_2_spec.rb:350 # GroupLoan perform premature clearance weekly_collection.confirm closing week 3, going to week 4 closing the group loan should return the correct compulsory saving amount: not including the premature clearance
	rspec ./spec/models/corner_cases/combination/scenario_2_spec.rb:345 # GroupLoan perform premature clearance weekly_collection.confirm closing week 3, going to week 4 closing the group loan should not have compulsory_savings on premature_clearance
	rspec ./spec/models/corner_cases/uncollectible/end_of_cycle_resolution_spec.rb:383 # GroupLoanWeeklyUncollectible create one uncollectible: impact on the weekly_collection.amount_receivable confirming the weekly_collection with group_loan_weekly_uncollectible closing the group loan collect uncollectibles clear uncollectibles should produce less compulsory_savings_return
	rspec ./spec/models/corner_cases/combination/scenario_3_spec.rb:214 # GroupLoan perform run_away confirm second_week confirm up to week 5: week 5 is not confirmed nor collected should produce premature_clearance_payment including the bail_out for run_away member
	rspec ./spec/models/corner_cases/combination/scenario_1_spec.rb:186 # GroupLoan perform premature clearance should produce correct premature clearance amount (premature clearance 2)
	rspec ./spec/models/corner_cases/combination/scenario_1_spec.rb:164 # GroupLoan perform premature clearance should produce correct premature clearance amount (premature clearance 1)
	rspec ./spec/models/corner_cases/combination/scenario_1_spec.rb:290 # GroupLoan perform premature clearance weekly_collection.confirm closing the group loan should not have compulsory_savings on premature_clearance
	rspec ./spec/models/corner_cases/combination/scenario_1_spec.rb:295 # GroupLoan perform premature clearance weekly_collection.confirm closing the group loan should return the correct compulsory saving amount: not including the premature clearance




